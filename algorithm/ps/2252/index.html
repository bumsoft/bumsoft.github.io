<!doctype html>





































<html
  class="not-ready lg:text-base"
  style="--bg: #fbfbfb"
  lang="en-us"
>
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1, shrink-to-fit=no"
  />

  
  <title>백준 2252 줄 세우기 C&#43;&#43; - BumCode</title>

  
  <meta name="theme-color" />

  
  
  
  
  <meta name="description" content="문제 풀러가기 위상정렬 을 이용하는 문제였다. 태그를 보고 풀었는데 위상정렬을 몰라 알고리즘만 보고 바로 풀어봤는데 입력을 어떻게 받을 지가 고민이었다.
정점 v1에서 연결되어있는 다른 정점으로의 간선의 개수를 진출차수라고 하며,
다른 정점에서 v1으로 연결되어있는 간선의 개수를 진입차수라고 한다.
위상정렬은 순서가 정해진 정점들의 순서를 구하는 알고리즘으로, 동작과정은 다음과 같다.
진입차수가 0인 정점을 모두 큐에 PUSH
큐에서 정점을 하나 POP하고 그 정점에서 진출하는 모든 간선을 제거한다.(연결 된 정점의 진입차수 1씩 감소)
제거 한 후, 진입차수가 0이 된 정점이 있다면, 큐에 PUSH" />
  <meta name="author" content="신진범" />
  

  
  
  
  
  
  
  <link rel="preload stylesheet" as="style" href="https://bumcode.kr/main.min.css" />

  
  
  
  
  
  <link rel="preload" as="image" href="https://bumcode.kr/theme.png" />

  
  
  
  
  <link rel="preload" as="image" href="https://avatars.githubusercontent.com/u/140528690?v=4" />
  
  

  
  
  <link rel="preload" as="image" href="https://bumcode.kr/github.svg" />
  
  <link rel="preload" as="image" href="https://bumcode.kr/instagram.svg" />
  
  

  
  
  <script
    defer
    src="https://bumcode.kr/highlight.min.js"
    onload="hljs.initHighlightingOnLoad();"
  ></script>
  

  
  
  

  
  <link rel="icon" href="https://bumcode.kr/favicon.ico" />
  <link rel="apple-touch-icon" href="https://bumcode.kr/apple-touch-icon.png" />

  
  <meta name="generator" content="Hugo 0.119.0">

  
  
  
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EY5DXWZ2HZ"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-EY5DXWZ2HZ', { 'anonymize_ip': false });
}
</script>

  
  <meta itemprop="name" content="백준 2252 줄 세우기 C&#43;&#43;">
<meta itemprop="description" content="문제 풀러가기 위상정렬 을 이용하는 문제였다. 태그를 보고 풀었는데 위상정렬을 몰라 알고리즘만 보고 바로 풀어봤는데 입력을 어떻게 받을 지가 고민이었다.
정점 v1에서 연결되어있는 다른 정점으로의 간선의 개수를 진출차수라고 하며,
다른 정점에서 v1으로 연결되어있는 간선의 개수를 진입차수라고 한다.
위상정렬은 순서가 정해진 정점들의 순서를 구하는 알고리즘으로, 동작과정은 다음과 같다.
진입차수가 0인 정점을 모두 큐에 PUSH
큐에서 정점을 하나 POP하고 그 정점에서 진출하는 모든 간선을 제거한다.(연결 된 정점의 진입차수 1씩 감소)
제거 한 후, 진입차수가 0이 된 정점이 있다면, 큐에 PUSH"><meta itemprop="datePublished" content="2023-11-29T22:13:46+09:00" />
<meta itemprop="dateModified" content="2023-11-29T22:13:46+09:00" />
<meta itemprop="wordCount" content="331">
<meta itemprop="keywords" content="" />
  
  <meta property="og:title" content="백준 2252 줄 세우기 C&#43;&#43;" />
<meta property="og:description" content="문제 풀러가기 위상정렬 을 이용하는 문제였다. 태그를 보고 풀었는데 위상정렬을 몰라 알고리즘만 보고 바로 풀어봤는데 입력을 어떻게 받을 지가 고민이었다.
정점 v1에서 연결되어있는 다른 정점으로의 간선의 개수를 진출차수라고 하며,
다른 정점에서 v1으로 연결되어있는 간선의 개수를 진입차수라고 한다.
위상정렬은 순서가 정해진 정점들의 순서를 구하는 알고리즘으로, 동작과정은 다음과 같다.
진입차수가 0인 정점을 모두 큐에 PUSH
큐에서 정점을 하나 POP하고 그 정점에서 진출하는 모든 간선을 제거한다.(연결 된 정점의 진입차수 1씩 감소)
제거 한 후, 진입차수가 0이 된 정점이 있다면, 큐에 PUSH" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bumcode.kr/algorithm/ps/2252/" /><meta property="article:section" content="algorithm" />
<meta property="article:published_time" content="2023-11-29T22:13:46+09:00" />
<meta property="article:modified_time" content="2023-11-29T22:13:46+09:00" />

  
  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="백준 2252 줄 세우기 C&#43;&#43;"/>
<meta name="twitter:description" content="문제 풀러가기 위상정렬 을 이용하는 문제였다. 태그를 보고 풀었는데 위상정렬을 몰라 알고리즘만 보고 바로 풀어봤는데 입력을 어떻게 받을 지가 고민이었다.
정점 v1에서 연결되어있는 다른 정점으로의 간선의 개수를 진출차수라고 하며,
다른 정점에서 v1으로 연결되어있는 간선의 개수를 진입차수라고 한다.
위상정렬은 순서가 정해진 정점들의 순서를 구하는 알고리즘으로, 동작과정은 다음과 같다.
진입차수가 0인 정점을 모두 큐에 PUSH
큐에서 정점을 하나 POP하고 그 정점에서 진출하는 모든 간선을 제거한다.(연결 된 정점의 진입차수 1씩 감소)
제거 한 후, 진입차수가 0이 된 정점이 있다면, 큐에 PUSH"/>

  
  
  
  <link rel="canonical" href="https://bumcode.kr/algorithm/ps/2252/" />
  
  
</head>

  <body class="text-black duration-200 ease-out dark:text-white">
    <header class="mx-auto flex h-[4.5rem] max-w-3xl px-8 lg:justify-center">
  <div class="relative z-50 mr-auto flex items-center">
    <a
      class="-translate-x-[1px] -translate-y-[1px] text-2xl font-semibold"
      href="https://bumcode.kr"
      >BumCode</a
    >
    <div
      class="btn-dark text-[0] ml-4 h-6 w-6 shrink-0 cursor-pointer [background:url(./theme.png)_left_center/_auto_theme('spacing.6')_no-repeat] [transition:_background-position_0.4s_steps(5)] dark:[background-position:right]"
      role="button"
      aria-label="Dark"
    ></div>
  </div>

  <div
    class="btn-menu relative z-50 -mr-8 flex h-[4.5rem] w-[5rem] shrink-0 cursor-pointer flex-col items-center justify-center gap-2.5 lg:hidden"
    role="button"
    aria-label="Menu"
  ></div>

  

  <script>
    
    const htmlClass = document.documentElement.classList;
    setTimeout(() => {
      htmlClass.remove('not-ready');
    }, 10);

    
    const btnMenu = document.querySelector('.btn-menu');
    btnMenu.addEventListener('click', () => {
      htmlClass.toggle('open');
    });

    
    const metaTheme = document.querySelector('meta[name="theme-color"]');
    const lightBg = '#fbfbfb'.replace(/"/g, '');
    const setDark = (isDark) => {
      metaTheme.setAttribute('content', isDark ? '#000' : lightBg);
      htmlClass[isDark ? 'add' : 'remove']('dark');
      localStorage.setItem('dark', isDark);
    };

    
    const darkScheme = window.matchMedia('(prefers-color-scheme: dark)');
    if (htmlClass.contains('dark')) {
      setDark(true);
    } else {
      const darkVal = localStorage.getItem('dark');
      setDark(darkVal ? darkVal === 'true' : darkScheme.matches);
    }

    
    darkScheme.addEventListener('change', (event) => {
      setDark(event.matches);
    });

    
    const btnDark = document.querySelector('.btn-dark');
    btnDark.addEventListener('click', () => {
      setDark(localStorage.getItem('dark') !== 'true');
    });
  </script>

  <div
    class="nav-wrapper fixed inset-x-0 top-full z-40 flex h-full select-none flex-col justify-center pb-16 duration-200 dark:bg-black lg:static lg:h-auto lg:flex-row lg:!bg-transparent lg:pb-0 lg:transition-none"
  >
    
    
    <nav class="lg:ml-12 lg:flex lg:flex-row lg:items-center lg:space-x-6">
      
      <a
        class="block text-center text-2xl leading-[5rem] lg:text-base lg:font-normal"
        href="/about/"
        >About Me</a
      >
      
      <a
        class="block text-center text-2xl leading-[5rem] lg:text-base lg:font-normal"
        href="/writing/"
        >Writing</a
      >
      
      <a
        class="block text-center text-2xl leading-[5rem] lg:text-base lg:font-normal"
        href="/algorithm/"
        >Algorithm</a
      >
      
      <a
        class="block text-center text-2xl leading-[5rem] lg:text-base lg:font-normal"
        href="/project/"
        >Project</a
      >
      
    </nav>
    

    
    <nav
      class="mt-12 flex justify-center space-x-10 dark:invert lg:ml-12 lg:mt-0 lg:items-center lg:space-x-6"
    >
      
      <a
        class="h-8 w-8 text-[0] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6"
        style="--url: url(./github.svg)"
        href="https://github.com/bumsoft"
        target="_blank"
        rel="me"
      >
        github
      </a>
      
      <a
        class="h-8 w-8 text-[0] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6"
        style="--url: url(./instagram.svg)"
        href="https://instagram.com/wlsbum"
        target="_blank"
        rel="me"
      >
        instagram
      </a>
      
    </nav>
    
  </div>
</header>


    <main
      class="prose prose-neutral relative mx-auto min-h-[calc(100%-9rem)] max-w-3xl px-8 pb-16 pt-12 dark:prose-invert"
    >
      

<article>
  <header class="mb-16">
    <h1 class="!my-0 pb-2.5">백준 2252 줄 세우기 C&#43;&#43;</h1>

    
    <div class="text-sm antialiased opacity-60">
      
      <time>Nov 29, 2023</time>
      
      
      
      
    </div>
    
  </header>

  <section><p><a href="https://www.acmicpc.net/problem/2252">문제 풀러가기</a>
<img src="/2252.png" alt="2252"></p>
<p><strong>위상정렬</strong> 을 이용하는 문제였다. 태그를 보고 풀었는데 위상정렬을 몰라 알고리즘만 보고 바로 풀어봤는데 입력을 어떻게 받을 지가 고민이었다.</p>
<p>정점 v1에서 연결되어있는 다른 정점으로의 간선의 개수를 <strong>진출차수</strong>라고 하며,<br>
다른 정점에서 v1으로 연결되어있는 간선의 개수를 <strong>진입차수</strong>라고 한다.</p>
<p><strong>위상정렬</strong>은 순서가 정해진 정점들의 순서를 구하는 알고리즘으로,  동작과정은 다음과 같다.</p>
<ul>
<li>
<p><strong>진입차수</strong>가 0인 정점을 모두 큐에 PUSH</p>
</li>
<li>
<p>큐에서 정점을 하나 POP하고 그 정점에서 진출하는 모든 간선을 제거한다.(연결 된 정점의 진입차수 1씩 감소)</p>
</li>
<li>
<p>제거 한 후, <strong>진입차수</strong>가 0이 된 정점이 있다면, 큐에 PUSH</p>
</li>
<li>
<p>큐가 빌 때 까지 반복한다.</p>
</li>
</ul>
<p>처음엔 입력과 진입차수가 0이 된 정점을 큐에 넣는 구현을 어떻게 해야할 지 모르겠어서 그냥 for문으로 하나씩 확인해서 시간초과가 났다.</p>
<p>입력은 a정점-&gt;b정점순이므로<br>
정점의 저장은 a정점의 백터에 b를 넣어주고, 진입차수를 저장할 배열 arr[b]++로 입력받았다.</p>
<pre tabindex="0"><code>	cin &gt;&gt; a &gt;&gt; b;
	out[a].push_back(b);
	arr[b]++;
</code></pre><p>가장 처음 진입차수가 0인 정점들을 큐에 넣을 때는 for문으로 돌며 넣어주고</p>
<pre tabindex="0"><code>	for (int i = 1; i &lt;= N; i++)
		if (arr[i] == 0) { q.push(i); }
</code></pre><p>큐가 빌때까지 반복해주었다. 간선을 제거하는 것은 그냥 진입차수만 감소시켜주는 것으로 구현했다.</p>
<pre tabindex="0"><code>	while (!q.empty())
	{
		int v = q.front();
		q.pop();
		cout &lt;&lt; v &lt;&lt; &#39; &#39;;
		for (int i = 0; i &lt; out[v].size(); i++)
		{
			//간선을 제거해 진입차수 1이 감소했을 때 0이라면
			if (--arr[out[v][i]] == 0)
			{
				//큐에 PUSH!
				q.push(out[v][i]);
			}
		}
	}
</code></pre><h3 id="전체코드">전체코드</h3>
<pre tabindex="0"><code>#include &lt;bits/stdc++.h&gt;
using namespace std;

int N, M;
vector&lt;int&gt; out[32001]; //정점에서 연결된 다른 정점들을 저장할 벡터
int arr[32001]; //진입차수 저장배열
queue&lt;int&gt; q;
int main()
{
	ios::sync_with_stdio(false); cin.tie(NULL); cout.tie(NULL);
	int a, b;
	cin &gt;&gt; N &gt;&gt; M;
	while (M--)
	{
		cin &gt;&gt; a &gt;&gt; b;
		out[a].push_back(b);
		arr[b]++;
	}
	for (int i = 1; i &lt;= N; i++)
		if (arr[i] == 0) { q.push(i); }
	while (!q.empty())
	{
		int v = q.front();
		q.pop();
		cout &lt;&lt; v &lt;&lt; &#39; &#39;;

		for (int i = 0; i &lt; out[v].size(); i++)
		{
			//간선을 제거해 진입차수 1이 감소했을 때 0이라면
			if (--arr[out[v][i]] == 0)
			{
				//큐에 PUSH!
				q.push(out[v][i]);
			}
		}
	}
	return 0;
}
</code></pre><p>글을 작성하기 전까지만 해도 코드가 엉망인 부분이 많았는데 작성 중에 개선할 점이 보여 수정해 시간과 공간도 더 줄일 수 있었다.</p>
</section>

  
  

  
  
  
  
  

  
  

  
  

  
  
</article>


    </main>

    <footer
  class="opaco mx-auto flex h-[4.5rem] max-w-3xl items-center px-8 text-[0.9em] opacity-60"
>
  <div class="mr-auto">
    &copy; 2023
    <a class="link" href="https://bumcode.kr">BumCode</a>
  </div>
  <a class="link mx-6" href="https://gohugo.io/" rel="noopener" target="_blank"
    >Powered by Hugo️️</a
  >️
  <a
    class="link"
    href="https://github.com/nanxiaobei/hugo-paper"
    rel="noopener"
    target="_blank"
    >✎ Paper</a
  >
</footer>

  </body>
</html>
